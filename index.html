<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Chef Client implemented in PERL .Client is based on Chef RESTfull API. It takes care of all the header encoding and signing. It makes chef rest api usage native to PERL langage"
    
    <title>Chef::REST::Client by github4bhavin</title>
	
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Chef::REST::Client</h1>
        <p>REST api client for Chef</p>
        <p class="view"><a href="https://github.com/github4bhavin/ChefRESTClient">View the Project on GitHub <small>github4bhavin/ChefRESTClient</small></a></p>
        <ul>
          <li><a href="https://metacpan.org/pod/Chef::REST::Client">View On <strong>CPAN</strong></a></li>        
          <li><a href="https://github.com/github4bhavin/ChefRESTClient/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/github4bhavin/ChefRESTClient/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/github4bhavin/ChefRESTClient">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
				<a name="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages">
					<span class="octicon octicon-link"></span>
				</a>
				Overview
			</h1>

			<p>
			An implementation of the basic chef REST client as described on <a target="1" href="http://docs.opscode.com/api_chef_server.html" >opscode doc</a>.
			The module takes care of creating Chef Hearders, creating base64 encoding and signing the request. It makes accessing the recipes , roles
			and other artifacts stored on the remote Chef server as easy as calling the native perl method.
			
			</p>

         <h3>
				<a name="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages">
					<span class="octicon octicon-link"></span>
				</a>
				Note
			</h3>
						
			<p>
			 client private key generated by Chef Server should be placed under ../data as 'private_key' .<strong>(../data/private_key)</strong>.
			</p>

			<pre>
				<code>
my $obj = new Chef::REST::Client ( 'chef_client_name' => $chef_client_name );
   $obj->name( $chef_client_name ); 
   $obj->roles('vagrant')->details; 
   $obj->roles('vagrant','environments')->details;
   $obj->roles->list;
   $obj->search( 'secrets' , {  q => 'id:centrify', rows => 1 } )->details;
   $obj->environments(<env_name>,'cookbooks' , <cookbook_name>)->details; 
   $obj->environments(<env_name>,
                      'cookbooks_versions',
                      { 'method' => 'post',
                        'data' => { 'runlist' => [ 'ms-scribe'] }
                      }
                     );
   $obj->roles(<role_name>)->details->override_attributes;
				</code>
			</pre>

			<h1>
				<a name="designer-templates" class="anchor" href="#designer-templates">
				<span class="octicon octicon-link"></span>
				</a>
				Methods
			</h1>

			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				role( $role )
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::role" >Chef::REST::Client::role</a> object . used by other classes.
			</p>

			<pre>	<code> $obj = new Chef::REST::Client(); </code>	</pre>

			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				roles ( @roles )
			</h3>
			<p> fetches all the roles from the Chef Server and returns <a href="https://metacpan.org/pod/Chef::REST::Client::roles" >Chef::REST::Client::roles</a> object.
			you can directly get details of all the roles by calling the details method.
			</p>

			<pre>	
				<code>
$obj->role( 'role1' , 'role2' )->details;

# @endpoint : /roles

$obj->roles->list;

# @endpoint : /roles/<role_name>

$obj->roles('role_name')->details;
$obj->roles('role_name')->details->run_list;
$obj->roles('role_name')->details->override_attributes;
				 
				</code>
			</pre>
			
			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				runlist( @recipes )
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::runlist" >Chef::REST::Client::runlist</a> object .
			It takes a list of recipes as paramets, Used by other internal classes.
			</p>


			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				sandboxes
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::sandboxes" >Chef::REST::Client::sandboxes</a> object
			</p>

			<pre>	
				<code>
# @endpoint : /sandboxes

$obj->sandboxes->list

# @endpoint : /sandboxes/<id>

$obj->sandboxes('id')->details;
 
				</code>
			</pre>	
	

			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				search
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::search" >Chef::REST::Client::search</a> object
			</p>

			<pre>	
				<code>

# @endpoint : /search

$obj->search->listen

# @endpoint : /search/<index>

$obj->search('index')->details

# @endpoint : /search/queryid : centrify and get row 1

$obj->search
      (  'secrets',
         { q   => 'id:centrify',
           row => 1
         }
      )
     ->details 
				</code>
			</pre>
						

			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				recipe
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::recipe" >Chef::REST::Client::recipe</a> object.
			 used by other internal classes.
			</p>


			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				principals
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::principals" >Chef::REST::Client::principals</a> object.
			</p>
			
			<pre>
				<code>

# @endpoint : /principals

$obj->principals->list

# @endpoint : /principals/<name>

$obj->principals('name')->details
				</code>
			</pre>

			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				node
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::node" >Chef::REST::Client::node</a> object.
			used by other internal classes.
			</p>


			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				nodes
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::nodes" >Chef::REST::Client::nodes</a> object.
			</p>
			
			<pre>
				<code>

# @endpoint : /nodes

$obj->nodes->list

# @endpoint : /nodes/<name>

$obj->nodes('name')->details
				</code>
			</pre>
			

			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				envrunlist
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::envrunlist" >Chef::REST::Client::envrunlist</a> object.
			used by other internal classes.
			</p>
			
			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				environment
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::environment" >Chef::REST::Client::environment</a> object.
			used by other internal classes.
			</p>

			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				environments
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::environemnts" >Chef::REST::Client::environments</a> object.
			used by other internal classes.
			</p>

			<pre>
				<code>

# @endpoint : /environment/<env_name>

$obj->environments('env_name')->details;

# @endpoint : /environment/<env_name>/cookboks/<cookbook_name>

$obj->environments('env_name', 'cookbooks' , 'coookbook_name')->details;

# @endpoint : /environment/<env_name>/cookbooks

$obj->environments('env_name','cookbooks');

# @endpoint  : /environments/<env_name>/cookbooks_versions 
# @method    : POST
# @operation : this will update the runlist for 'cookbook_versions' for 'env_name'

$obj->environment('env_name' , 'cookbooks_version' , 
                  { 'methos' => 'post',
                    'data'   => {
                                  'runlist' => ['scribe']
                                }
                  }
                 );

				</code>
			</pre>


			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				databag
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::databag" >Chef::REST::Client::databag</a> object.
			used by other internal classes.
			</p>
			
			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				data
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::data" >Chef::REST::Client::data</a> object.
			</p>
			
			<pre>
				<code>

# @endpoint : /data

$obj->data->list;

# @endpoint : /data/<var_name>

$obj->data('var_name' )->details;
 
				</code>
			</pre>			

			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				cookbook
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::cookbook" >Chef::REST::Client::cookbook</a> object.
			used by other internal classes.
			</p>
			
			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				cookbooks
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::cookbooks" >Chef::REST::Client::cookbooks</a> object.
			</p>
			
			<pre>
				<code>

# @endpoint : /cookbooks

$obj->cookbooks->list

# @endpoint : /cookbooks/<cookbook_name>

$obj->cookbooks('cookbook_name')->details;
$obj->cookbooks('cookbook_name', '_latest')->details->recipes;
$obj->cookbooks('cookbook_name','version')->details->attributes;

				</code>
			</pre>

			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				clients
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::clients" >Chef::REST::Client::clients</a> object.
			</p>
			
			<pre>
				<code>

# @endpoint : /clients

$obj->clients->list

# @endpoint : /clients/<client_name>

$obj->clients('client_name')->details;

				</code>
			</pre>

			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				attribute
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::attribute" >Chef::REST::Client::attribute</a> object.
			</p>
			
			<h3>
				<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
				<span class="octicon octicon-link"></span>
				</a>
				attributes
			</h3>
			<p> returns new <a href="https://metacpan.org/pod/Chef::REST::Client::attributes" >Chef::REST::Client::attributes</a> object.
			</p>
									
<!-----------------------------------------------------------------------------------------------
               Authors and Contributors 
------------------------------------------------------------------------------------------------------>
			
			<h3>
				<a name="authors-and-contributors" class="anchor" href="#authors-and-contributors">
				<span class="octicon octicon-link"></span>
				</a>
				Authors and Support
			</h3>

			<p> Bhavin Patel (<a href="https://github.com/github4bhavin" class="user-mention">@github4bhavin</a>).</p>

      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/github4bhavin">github4bhavin</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-36012254-4");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>